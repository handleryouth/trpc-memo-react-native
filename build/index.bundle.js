(()=>{"use strict";var e={607:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=u(r(860)),c=u(r(17)),l=u(r(582)),s=o(r(946)),d=r(440),f=process.env.PORT||5001,p=(0,a.default)();p.use((0,l.default)()),p.use(a.default.static(c.default.join(__dirname,"public"))),p.use("/trpc",s.createExpressMiddleware({router:d.createMemo,createContext:()=>null})),p.get("/",((e,t)=>{t.send("Hello from api-server")})),p.listen(f,(()=>{console.log(`api-server listening at http://localhost:${f}`)}))},440:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(523),t)},523:function(e,t,r){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function u(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createMemo=void 0;const o=n(r(316)),u=r(524),a=r(928),c=new u.PrismaClient;t.createMemo=(0,a.createRouter)().query("getAllMemo",{resolve:()=>i(void 0,void 0,void 0,(function*(){const e=yield c.memo.findMany(),t=yield c.memo.count();return e?{data:e,totalData:t}:"No data"}))}).query("getSpecificMemo",{input:o.default.string(),resolve:e=>i(void 0,void 0,void 0,(function*(){return yield c.memo.findUnique({where:{id:e.input}})}))}).mutation("createMemo",{input:o.default.object({title:o.default.string(),content:o.default.string()}),resolve:e=>i(void 0,void 0,void 0,(function*(){return yield c.memo.create({data:{content:e.input.content,title:e.input.title}}),"success"}))}).mutation("updateMemo",{input:o.default.object({id:o.default.string(),content:o.default.string().optional(),title:o.default.string().optional()}),resolve:e=>i(void 0,void 0,void 0,(function*(){const t=yield c.memo.findUnique({where:{id:e.input.id}});return t&&(yield c.memo.update({where:{id:e.input.id},data:{content:e.input.content||t.content,title:e.input.title||t.title}})),"success"}))}).mutation("deleteMemo",{input:o.default.object({id:o.default.array(o.default.string())}),resolve:e=>i(void 0,void 0,void 0,(function*(){return yield c.memo.deleteMany({where:{id:{in:e.input.id}}}),"success"}))})},906:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createRouter=void 0;const u=o(r(368));t.createRouter=function(){return u.router()}},928:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(906),t)},524:e=>{e.exports=require("@prisma/client")},368:e=>{e.exports=require("@trpc/server")},946:e=>{e.exports=require("@trpc/server/adapters/express")},582:e=>{e.exports=require("cors")},860:e=>{e.exports=require("express")},316:e=>{e.exports=require("zod")},17:e=>{e.exports=require("path")}},t={};!function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,r),o.exports}(607)})();